<div id="chat">
    <div class="chat-window-container">
        <div class="top-chat-info-line">
            <img class="friend-chat-profile" src="{{chatData.friend.profileImage}}">
            <span class="friend-chat-name">
                {{chatData.friend.firstName + " " + chatData.friend.lastName}}
            </span>
            <div class="online-icon" *ngIf="chatData.friend.isOnline"></div>
            <span (click)="CloseChat()" class="glyphicon glyphicon-remove exit-chat" aria-hidden="true"></span>
        </div>
        <div class="chat-body-container">
            <div id="chat-body-sector" class="chat-body-sector">
                <div class="top-space-line"></div>
                <span *ngIf="isMessagesLoading" class="chat-loading-container">
                    <p class="load-image-icon"><i class="fa fa-circle" aria-hidden="true"></i> <i class="fa fa-circle" aria-hidden="true"></i> <i class="fa fa-circle" aria-hidden="true"></i></p>
                </span>
                <div class="message-container" *ngFor="let message of messages">
                    <div class="message-time-container" [ngClass]="{'user-message-time' : message.from == chatData.user._id, 'friend-message-time': message.from == chatData.friend._id}">
                        <span class="message-time">
                            {{GetTimeString(message.time)}}
                        </span>
                    </div>
                    <span class="message" [ngClass]="{'user-message' : message.from == chatData.user._id, 'friend-message': message.from == chatData.friend._id}">
                        <div class="message-text">
                            {{message.text}}
                        </div>
                    </span>
                </div>
            </div>
            <div class="chat-write-sector">
                <div class="msg-input-sector">
                    <input [(ngModel)]="msghInput" [disabled]='isMessagesLoading' (keyup)="MsgInputKeyup($event)" maxlength="600" class="msg-input"
                        type="text" autocapitalize="off" spellcheck="false">
                </div>
                <div (click)="SendMessage()" [ngClass]="{'send-msg-btn-sector-disabled' : isMessagesLoading}" class="send-msg-btn-sector">
                    <span class="glyphicon glyphicon-triangle-left send-msg-btn" aria-hidden="true"></span>
                </div>
            </div>
        </div>
    </div>
</div>