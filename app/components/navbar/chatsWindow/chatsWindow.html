<div id="chatsWindow">
    <i class="fas fa-caret-up window-top-arrow"></i>
    <div class="chatsWindow-container">
        <div *ngIf="!isChatsLoading && !isLoading" class="top-line">
            <span>{{GetUnreadMessagesNumberText()}}</span>
        </div>
        <div class="body-container">
            <loaderSpinner *ngIf="isChatsLoading || isLoading" id="chats-loader" class="chats-loader"></loaderSpinner>
            <div *ngIf="!isChatsLoading && !isLoading">
                <div class="chat-container" *ngFor="let chat of SortByDate(chats)" (click)="OpenChat(chat.friend)">
                    <span *ngIf="messagesNotifications[chat.friend._id]" class="notificaiton-sign"></span>
                    <img class="chat-image" [src]="GetFriendProfile(chat.friend) || globalService.defaultProfileImage">
                    <div class="details-container">
                        <div class="chat-name">{{GetFriendName(chat.friend) || "משתמש לא קיים"}}</div>
                        <div *ngIf="!chat.lastMessage.isImage" class="chat-last-text">{{chat.lastMessage.text}}</div>
                        <div *ngIf="chat.lastMessage.isImage" class="chat-last-text">
                            <i class="fas fa-camera img-sign"></i>
                        </div>
                    </div>
                    <div class="chat-last-time">
                        {{CalculateChatTimeString(chat)}}
                        <div>{{chat.timeString.dateDetailsString}}</div>
                        <div>{{chat.timeString.dateTimeString}}</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>